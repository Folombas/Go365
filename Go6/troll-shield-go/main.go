package main

import (
	"fmt"
	"strings"
	"time"
)

// ==================== –ö–û–ù–°–¢–ê–ù–¢–´ –î–ù–Ø ====================
const (
	DayDate     = "06.01.2026"
	Go365Day    = 6
	EnergyStart = 100 // –ù–∞—á–∞–ª—å–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è –ì–æ—à–∏
)

// ==================== –¢–ò–ü–´ –¢–†–û–õ–õ–ï–ô ====================
type TrollType int

const (
	TravelShowoff     TrollType = iota // –•–≤–∞—Å—Ç—É–Ω—ã —Å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è–º–∏
	PhotoSpammer                       // –°–ø–∞–º–º–µ—Ä—ã —Ñ–æ—Ç–∫–∞–º–∏
	PassiveAggressive                  // –ü–∞—Å—Å–∏–≤–Ω–æ-–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ
	EnergyVampire                      // –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –≤–∞–º–ø–∏—Ä—ã
)

func (t TrollType) String() string {
	return []string{
		"–ü–£–¢–ï–®–ï–°–¢–í–ï–ù–ù–ò–ö-–•–í–ê–°–¢–£–ù (–í–ª–∞–¥–∏–º–∏—Ä/–°—É–∑–¥–∞–ª—å edition)",
		"–§–û–¢–û-–°–ü–ê–ú–ú–ï–† (100 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ñ–æ—Ç–æ –ª–∞—Ç—Ç–µ –Ω–∞ –∫–æ–∫–æ—Å–æ–≤–æ–º –º–æ–ª–æ–∫–µ —Å —Å–æ–ª—ë–Ω–æ–π –∫–∞—Ä–∞–º–µ–ª—å—é –∏ –±–µ–∑—É–º–Ω–æ —Å–ª–∞–¥–∫–∏–º–∏ —à–æ–∫–æ–±–æ–ª–∞–º–∏)",
		"–ü–ê–°–°–ò–í–ù–û-–ê–ì–†–ï–°–°–ò–í–ù–´–ô (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–∑–æ–≤—ë—Ç —Å —Å–æ–±–æ—é)",
		"–≠–ù–ï–†–ì–ï–¢–ò–ß–ï–°–ö–ò–ô –í–ê–ú–ü–ò–† (–≤—ã—Å–∞—Å—ã–≤–∞–µ—Ç —Å–∏–ª—ã)",
	}[t]
}

// ==================== –°–¢–†–£–ö–¢–£–†–ê –¢–†–û–õ–õ–Ø ====================
type Troll struct {
	Name        string
	Type        TrollType
	AttackPower int    // –°–∏–ª–∞ –∞—Ç–∞–∫–∏ (–æ—Ç 1 –¥–æ 100)
	LastAttack  string // –ü–æ—Å–ª–µ–¥–Ω—è—è –∞—Ç–∞–∫–∞
	Blocked     bool   // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏
}

// –ú–µ—Ç–æ–¥ –∞—Ç–∞–∫–∏ —Ç—Ä–æ–ª–ª—è
func (t Troll) Attack() (string, int) {
	attacks := map[TrollType][]string{
		TravelShowoff: {
			"–°–º–æ—Ç—Ä–∏, –∫–∞–∫ —è –∫–∞—Ç–∞—é—Å—å –ø–æ –í–ª–∞–¥–∏–º–∏—Ä—É –Ω–∞ –¥–∂–∏–ø–µ! (—Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–µ–¥–µ—à—å)",
			"–í –°—É–∑–¥–∞–ª–µ —Ç–∞–∫–∏–µ –∫—Ä—É—Ç—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∞–Ω—Å–∞–º–±–ª–∏! (—É —Ç–µ–±—è –Ω–µ—Ç –¥–µ–Ω–µ–≥ –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏–∏)",
			"–û–ø—è—Ç—å –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –Ω–∞ –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–µ! (–∞ —Ç—ã –¥–æ–º–∞ —Å–∏–¥–∏—à—å –∫–∞–∫ —Å—ã—á)",
		},
		PhotoSpammer: {
			"–ó–∞–ø–æ—Å—Ç–∏–ª 15 —Ñ–æ—Ç–æ –∏–∑ —Ç—É–∞–ª–µ—Ç–∞ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ",
			"–ï—â—ë 10 —Ñ–æ—Ç–æ —Å–≤–æ–µ–π —Å–æ–±–∞–∫–∏ –ø–æ–¥ —Ä–∞–∑–Ω—ã–º —É–≥–ª–æ–º",
			"–§–æ—Ç–æ –µ–¥—ã –≤ –∫–∞—Ñ–µ (—Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ø—Ä–æ–±—É–µ—à—å)",
		},
		PassiveAggressive: {
			"–ö–∞–∫ –∂–∞–ª—å, —á—Ç–æ —Ç–µ–±—è –Ω–µ –±—ã–ª–æ —Å –Ω–∞–º–∏... (—Ö–æ—Ç—è –∏ –Ω–µ –∑–≤–∞–ª–∏)",
			"–¢—ã –±—ã —Ç–æ—á–Ω–æ –Ω–µ –æ—Ü–µ–Ω–∏–ª —ç—Ç—É –∫—Ä–∞—Å–æ—Ç—É",
			"–≠—Ç–æ –Ω–µ –¥–ª—è —Ç–∞–∫–∏—Ö –¥–æ–º–æ—Å–µ–¥–æ–≤ –∫–∞–∫ —Ç—ã",
		},
		EnergyVampire: {
			"–ü–æ—á–µ–º—É —Ç—ã –≤—Å–µ–≥–¥–∞ —Ç–∞–∫–æ–π –≥—Ä—É—Å—Ç–Ω—ã–π?",
			"–¢–µ–±–µ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –ª—é–¥–∏!",
			"–ü–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫ –¥—Ä—É–≥–∏–µ –∂–∏–≤—É—Ç!",
		},
	}

	// –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∞—Ç–∞–∫—É
	attackList := attacks[t.Type]
	attack := attackList[time.Now().UnixNano()%int64(len(attackList))]

	return attack, t.AttackPower
}

// ==================== –°–ò–°–¢–ï–ú–ê –ó–ê–©–ò–¢–´ –ì–û–®–ò ====================
type GoshasDefense struct {
	Energy        int    // –¢–µ–∫—É—â–∞—è —ç–Ω–µ—Ä–≥–∏—è
	FocusLevel    int    // –£—Ä–æ–≤–µ–Ω—å —Ñ–æ–∫—É—Å–∞ –Ω–∞ Go (1-10)
	TrollsBlocked int    // –°–∫–æ–ª—å–∫–æ —Ç—Ä–æ–ª–ª–µ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
	DailyMood     string // –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–Ω—è
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞—â–∏—Ç—ã
func NewGoshasDefense() *GoshasDefense {
	return &GoshasDefense{
		Energy:        EnergyStart,
		FocusLevel:    1,
		TrollsBlocked: 0,
		DailyMood:     "–Ø–Ω–≤–∞—Ä—Å–∫–∞—è –∑–∏–º–Ω—è—è –¥–µ–ø—Ä–µ—Å—Å–∏—è + –∏–≥–Ω–æ—Ä —Ç—Ä–æ–ª–ª–µ–π",
	}
}

// –ú–µ—Ç–æ–¥ –ò–ì–ù–û–†–ê (–æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞) - –ò–ó–ú–ï–ù–ï–ù–û: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å
func (g *GoshasDefense) IgnoreTroll(t *Troll) string {
	if g.Energy <= 0 {
		return "‚ö†Ô∏è  –ù–ï–¢ –≠–ù–ï–†–ì–ò–ò –î–ê–ñ–ï –ù–ê –ò–ì–ù–û–†"
	}

	t.Blocked = true
	g.TrollsBlocked++
	g.Energy += 10 // –ò–≥–Ω–æ—Ä –¥–∞—ë—Ç —ç–Ω–µ—Ä–≥–∏—é!
	g.FocusLevel = min(10, g.FocusLevel+1)

	responses := []string{
		fmt.Sprintf("üö´ –ò–ì–ù–û–†: %s (—ç–Ω–µ—Ä–≥–∏—è +10)", t.Name),
		fmt.Sprintf("üôà –ù–µ —Å–º–æ—Ç—Ä—é —Ñ–æ—Ç–æ –æ—Ç %s (—Ñ–æ–∫—É—Å +1)", t.Name),
		fmt.Sprintf("üß† –ú—ã—Å–ª–µ–Ω–Ω–æ –ø–∏—à—É –∫–æ–¥ –≤–º–µ—Å—Ç–æ –æ—Ç–≤–µ—Ç–∞ %s", t.Name),
	}

	return responses[time.Now().UnixNano()%int64(len(responses))]
}

// –ú–µ—Ç–æ–¥ –∏–∑—É—á–µ–Ω–∏—è Go (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏)
func (g *GoshasDefense) StudyGo(topic string, hours float64) string {
	energyGain := int(hours * 25)
	g.Energy += energyGain
	g.FocusLevel = min(10, g.FocusLevel+2)

	return fmt.Sprintf("üìö –ò–∑—É—á–∞—é %s (%.1f —á) ‚Üí —ç–Ω–µ—Ä–≥–∏—è +%d, —Ñ–æ–∫—É—Å +2",
		topic, hours, energyGain)
}

// –ú–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
func (g *GoshasDefense) Status() string {
	moodEmoji := "üòê"
	if g.Energy > 150 {
		moodEmoji = "üòé"
	} else if g.Energy > 100 {
		moodEmoji = "üôÇ"
	} else if g.Energy < 50 {
		moodEmoji = "üòî"
	}

	return fmt.Sprintf(`
%s –°–¢–ê–¢–£–° –ì–û–®–ò %s
  –≠–Ω–µ—Ä–≥–∏—è:     %d/200 %s
  –§–æ–∫—É—Å –Ω–∞ Go: %d/10 üéØ
  –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ —Ç—Ä–æ–ª–ª–µ–π: %d üö´
  –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:  %s %s
  –î–µ–≤–∏–∑:       "–ù–µ –∫–æ—Ä–º–∏ —Ç—Ä–æ–ª–ª—è ‚Äî –∫–æ—Ä–º–∏ –∫–æ–¥–æ–º"
	`,
		strings.Repeat("‚ïê", 20),
		strings.Repeat("‚ïê", 20),
		g.Energy,
		strings.Repeat("‚ñà", g.Energy/20)+strings.Repeat("‚ñë", (200-g.Energy)/20),
		g.FocusLevel,
		g.TrollsBlocked,
		moodEmoji,
		g.DailyMood,
	)
}

// ==================== –ò–ì–†–û–í–ê–Ø –°–ò–ú–£–õ–Ø–¶–ò–Ø ====================
func main() {
	fmt.Println(`
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë    –î–µ–Ω—å 5: –ó–ê–©–ò–¢–ê –û–¢ –¢–†–û–õ–õ–ï–ô –í GO        ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù`)

	fmt.Printf("\nüìÖ %s | üêπ –î–µ–Ω—å %d/365 –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è\n", DayDate, Go365Day)
	fmt.Println("üåßÔ∏è  –Ø–Ω–≤–∞—Ä—Å–∫–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞...")
	fmt.Println("üö´ –ü—Ä–∞–≤–∏–ª–æ: '–ù–ï –ö–û–†–ú–ò –¢–†–û–õ–õ–Ø'")
	fmt.Println(strings.Repeat("‚îÄ", 55))

	// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∑–∞—â–∏—Ç—É –ì–æ—à–∏
	gosha := NewGoshasDefense()

	// –°–æ–∑–¥–∞—ë–º –∞—Ä–º–∏—é —Ç—Ä–æ–ª–ª–µ–π - –ò–ó–ú–ï–ù–ï–ù–û: —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ Troll
	trolls := []*Troll{
		{"–û–ª–µ–≥", TravelShowoff, 30, "", false},
		{"–§–æ—Ç–æ-–ú–∞—à–∞", PhotoSpammer, 20, "", false},
		{"–ö–æ–ª—è", PassiveAggressive, 40, "", false},
		{"–í–∞—Å—è", EnergyVampire, 50, "", false},
		{"–ü–µ—Ç—è", TravelShowoff, 25, "", false},
	}

	fmt.Println("\nüéØ –û–ë–ù–ê–†–£–ñ–ï–ù–´ –¢–†–û–õ–õ–ò:")
	for i, troll := range trolls {
		fmt.Printf("%d. %s (%s)\n", i+1, troll.Name, troll.Type)
	}

	fmt.Println("\n" + strings.Repeat("‚öîÔ∏è", 28))
	fmt.Println("           –ù–ê–ß–ò–ù–ê–ï–ú –ó–ê–©–ò–¢–£")
	fmt.Println(strings.Repeat("‚öîÔ∏è", 28))

	// –°–∏–º—É–ª—è—Ü–∏—è –∞—Ç–∞–∫ –∏ –∑–∞—â–∏—Ç—ã
	for i := 0; i < 3; i++ {
		fmt.Printf("\nüé≤ –†–ê–£–ù–î %d:\n", i+1)

		// –¢—Ä–æ–ª–ª—å –∞—Ç–∞–∫—É–µ—Ç
		troll := trolls[i%len(trolls)]
		attack, power := troll.Attack()
		fmt.Printf("   %s –∞—Ç–∞–∫—É–µ—Ç:\n", troll.Name)
		fmt.Printf("   üí¨ ¬´%s¬ª (—Å–∏–ª–∞: %d)\n", attack, power)

		// –ì–æ—à–∞ –∑–∞—â–∏—â–∞–µ—Ç—Å—è - –ò–ó–ú–ï–ù–ï–ù–û: –ø–µ—Ä–µ–¥–∞—ë–º —É–∫–∞–∑–∞—Ç–µ–ª—å
		time.Sleep(800 * time.Millisecond)
		defense := gosha.IgnoreTroll(troll)
		fmt.Printf("   üõ°Ô∏è  %s\n", defense)

		// –ò–∑—É—á–µ–Ω–∏–µ Go –º–µ–∂–¥—É —Ä–∞—É–Ω–¥–∞–º–∏
		time.Sleep(500 * time.Millisecond)
		topics := []string{"–≥–æ—Ä—É—Ç–∏–Ω—ã", "–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã", "—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ", "–ø–∞–∫–µ—Ç—ã"}
		study := gosha.StudyGo(topics[i%len(topics)], 1.5)
		fmt.Printf("   %s\n", study)
	}

	// –°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –±–∏—Ç–≤—ã
	fmt.Println("\n" + strings.Repeat("üéØ", 28))
	fmt.Println("         –ò–¢–û–ì–ò –î–ù–Ø")
	fmt.Println(strings.Repeat("üéØ", 28))

	fmt.Println(gosha.Status())

	// –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
	fmt.Println("\nüìä –ê–ù–ê–õ–ò–¢–ò–ö–ê –≠–ù–ï–†–ì–ò–ò:")
	fmt.Println(strings.Repeat("‚îÄ", 55))

	energyLog := []struct {
		action string
		change int
	}{
		{"–£—Ç—Ä–µ–Ω–Ω—è—è –¥–µ–ø—Ä–µ—Å—Å–∏—è", -30},
		{"–ò–≥–Ω–æ—Ä 3 —Ç—Ä–æ–ª–ª–µ–π", +30},
		{"–ò–∑—É—á–µ–Ω–∏–µ Go (4.5 —á)", +112},
		{"–ù–µ —Å–º–æ—Ç—Ä—é —Ñ–æ—Ç–æ –í–ª–∞–¥–∏–º–∏—Ä–∞", +15},
		{"–ù–µ —Å–ø–æ—Ä—é –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö", +25},
	}

	totalChange := 0
	for _, log := range energyLog {
		fmt.Printf("   %-30s %+d\n", log.action, log.change)
		totalChange += log.change
	}

	fmt.Println(strings.Repeat("‚îÄ", 55))
	fmt.Printf("   –ò–¢–û–ì–û:                       %+d\n", totalChange)

	// –§–∏–Ω–∞–ª—å–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å
	fmt.Println("\n" + strings.Repeat("üí°", 28))
	fmt.Println("       –ú–£–î–†–û–°–¢–¨ –î–ù–Ø")
	fmt.Println(strings.Repeat("üí°", 28))

	wisdoms := []string{
		"1. –ö–∞–∂–¥—ã–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–æ–ª–ª—å = +10 —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ Go",
		"2. –ö–∞–∂–¥–æ–µ —Ñ–æ—Ç–æ –í–ª–∞–¥–∏–º–∏—Ä–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –Ω–µ –ø–æ—Å–º–æ—Ç—Ä–µ–ª = +1 –∫ —Ñ–æ–∫—É—Å—É",
		"3. –ö–∞–∂–¥—ã–π —á–∞—Å —Å–ø–æ—Ä–æ–≤ —Å —Ö–µ–π—Ç–µ—Ä–æ–º = -50 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞",
		"4. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –¥—Ä—É–≥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–µ–¥–∞—Å—Ç ‚Äî —ç—Ç–æ Go",
		"5. –¢—Ä–æ–ª–ª–∏ –∫–æ—Ä–º—è—Ç—Å—è –≤–Ω–∏–º–∞–Ω–∏–µ–º. –ù–µ –∫–æ—Ä–º–∏ –∏—Ö!",
		"",
		"üéØ –°–ï–ì–û–î–ù–Ø–®–ù–Ø–Ø –ü–û–ë–ï–î–ê:",
		fmt.Sprintf("   ‚Ä¢ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ: %d —Ç—Ä–æ–ª–ª–µ–π", gosha.TrollsBlocked),
		"   ‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏: 150+ –µ–¥–∏–Ω–∏—Ü",
		"   ‚Ä¢ –ù–∞–ø–∏—Å–∞–Ω–æ –∫–æ–¥–∞: 300+ —Å—Ç—Ä–æ–∫",
		"   ‚Ä¢ –•–µ–π—Ç–µ—Ä—ã –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö. –ê —Ç—ã —É–∂–µ –≤ Go.",
	}

	for _, wisdom := range wisdoms {
		fmt.Println(wisdom)
	}

	fmt.Println("\n" + strings.Repeat("üêπ", 28))
	fmt.Println("   GO –ò–õ–ò –¢–†–û–õ–õ–ò. –í–´–ë–û–† –û–ß–ï–í–ò–î–ï–ù.")
	fmt.Println(strings.Repeat("üêπ", 28))
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
func min(a, b int) int {
	if a < b {
		return a
	}
	return b
}
